import{S as I}from"./assets/vendor-fCUiSAzf.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const c of e.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=r(t);fetch(t.href,e)}})();document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector(".burger-btn"),s=document.querySelector(".mobile-menu"),r=document.querySelector(".mobile-close"),o=document.querySelector(".mobile-backdrop"),t=document.querySelector(".header-logo-link");let e=!1;const c=()=>{o.classList.remove("open"),s.classList.remove("open"),document.body.style.overflow=""};n.addEventListener("click",()=>{if(o.classList.add("open"),s.classList.add("open"),document.body.style.overflow="hidden",!e&&t){const i=t.cloneNode(!0);i.classList.add("mobile-logo"),s.prepend(i),e=!0}}),r.addEventListener("click",c),o.addEventListener("click",i=>{i.target===o&&c()}),s.querySelectorAll("a").forEach(i=>{i.addEventListener("click",c)})});const B=document.getElementById("artists-list"),A=document.getElementById("load-more"),b=document.getElementById("global-loader");let x=1;const M=8;let g=[],N=!1;//!================================================================
async function T(n=1){O(),N=!0;try{const r=await(await fetch(`https://sound-wave.b.goit.study/api/artists?page=${n}`)).json(),o=r.artists||[],t=r.totalArtists||0;g.push(...o),$(),document.querySelectorAll(".artist-card").length>=t&&g.length===0?A.classList.add("hidden"):A.classList.remove("hidden")}catch(s){console.error("Error fetching artists:",s)}finally{H(),N=!1}}function $(){g.splice(0,M).forEach(s=>{var c,d;const r=document.createElement("li");r.classList.add("artist-card");const t=((c=(s.strBiographyEN||"").match(/.*?[.!?]/))==null?void 0:c[0])||"",e=t.length>140?t.slice(0,140)+"…":t;r.innerHTML=`
        <img class="artists-img" src="${s.strArtistThumb||s.image}" alt="${s.strArtist}">
    <p class="artist-genres">
  ${((d=s.genres)==null?void 0:d.map(i=>`<span class="genre">${i}</span>`).join(" "))||""}
</p>
        <h3 class="artist-name">${s.strArtist}</h3>
        <p class="artist-description">${e}</p>
        <button class="learn-more-btn js-learn-more-btn" data-id="${s.id}">Learn More<svg class="load-icon" width="24" height="24"><use href="./img/symbol-defs.svg#icon-caret-right"></use></svg></button>
      `,B.appendChild(r)})}A.addEventListener("click",()=>{g.length>=M?$():N||(x++,T(x))});function O(){b.classList.add("is-active"),b.style.display="block"}function H(){b.classList.remove("is-active"),b.style.display="none"}T(x);document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("artistModal"),s=n.querySelector(".close-modal"),r=n.querySelector("#modalLoader");window.openArtistModal=function(t){n.classList.add("active"),document.body.style.overflow="hidden",r.style.display="block",fetch(`/artists/${t}`).then(e=>e.json()).then(e=>{r.style.display="none";const c=n.querySelector(".modal-title");c.textContent=e.name||"Без названия";const d=n.querySelector(".hero-artist-img");d.src=e.photoUrl||"",d.alt=e.name||"Artist Photo";const i=n.querySelectorAll(".artist-info-list .artist-info");i.length>=4&&(i[0].textContent=e.yearsActive||"",i[1].textContent=e.sex||"",i[2].textContent=Array.isArray(e.members)?e.members.join(", "):e.members||"",i[3].textContent=e.country||"");const q=n.querySelector(".artist-bio .artist-info");q&&(q.textContent=e.biography||"");const L=n.querySelector(".ganres-list");L&&Array.isArray(e.genres)&&(L.innerHTML="",e.genres.forEach(u=>{const a=document.createElement("li");a.className="ganres-item",a.textContent=u,L.appendChild(a)}));const E=n.querySelector(".artist-albums-list");E&&Array.isArray(e.albums)&&(E.innerHTML="",e.albums.forEach(u=>{const a=document.createElement("li");a.className="artist-albums-item";const k=document.createElement("h3");k.className="album-name",k.textContent=u.albumName||"Альбом",a.appendChild(k);const f=document.createElement("ul");f.className="album-track-list";const v=document.createElement("li");v.className="album-track-item";const C=document.createElement("ul");C.className="track-info-list",["Track","Time","Link"].forEach(m=>{const l=document.createElement("li");l.className="track-info-item",l.textContent=m,C.appendChild(l)}),v.appendChild(C),f.appendChild(v),Array.isArray(u.tracks)&&u.tracks.forEach(m=>{const l=document.createElement("li");l.className="album-track-item";const p=document.createElement("ul");p.className="track-info-list";const w=document.createElement("li");w.className="track-info-item",w.textContent=m.trackName||"",p.appendChild(w);const S=document.createElement("li");S.className="track-info-item",S.textContent=m.time||"",p.appendChild(S);const h=document.createElement("li");if(h.className="track-info-item",m.youtubeLink){const y=document.createElement("a");y.href=m.youtubeLink,y.target="_blank",y.textContent="YouTube",h.appendChild(y)}else h.textContent="-";p.appendChild(h),l.appendChild(p),f.appendChild(l)}),a.appendChild(f),E.appendChild(a)}))}).catch(e=>{r.textContent="Помилка завантаження даних",console.error("Error fetching artist data:",e)})};function o(){n.classList.remove("active"),document.body.style.overflow=""}s.addEventListener("click",o),n.addEventListener("click",t=>{t.target===n&&o()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&n.classList.contains("active")&&o()})});const P=document.querySelector(".swiper-wrapper");async function j(){try{const n=await fetch("https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1");if(!n.ok)throw new Error(`Error HTTP: ${n.status}`);const s=await n.json();(Array.isArray(s)?s:s.data).forEach(({rating:o,descr:t,name:e})=>{const c=F({rating:o,text:t,user:e});P.appendChild(c)}),K()}catch(n){console.error("Oops...Error:",n)}}function F({rating:n,text:s,user:r}){const o=document.createElement("div");o.classList.add("swiper-slide");const t=Math.round(n);return o.innerHTML=`
    <div class="feedback-card">
      <div class="feedback-stars">${D(t)}</div>
      <p class="feedback-text">"${s}"</p>
      <p class="feedback-user">– ${r}</p>
    </div>
  `,o}function D(n){return"★".repeat(n)+"☆".repeat(5-n)}function K(){new I(".feedback-swiper",{loop:!1,navigation:{nextEl:".feedback-button-next",prevEl:".feedback-button-prev"},pagination:{el:".feedback-pagination",clickable:!0},grabCursor:!0})}j();
//# sourceMappingURL=index.js.map
