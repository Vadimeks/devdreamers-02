import{a as T,S as B}from"./assets/vendor-CWXYtbPv.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(t){if(t.ep)return;t.ep=!0;const e=o(t);fetch(t.href,e)}})();document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector(".burger-btn"),n=document.querySelector(".mobile-menu"),o=document.querySelector(".mobile-close"),r=document.querySelector(".mobile-backdrop"),t=document.querySelector(".header-logo-link");let e=!1;const i=()=>{r.classList.remove("open"),n.classList.remove("open"),document.body.style.overflow=""};s.addEventListener("click",()=>{if(r.classList.add("open"),n.classList.add("open"),document.body.style.overflow="hidden",!e&&t){const c=t.cloneNode(!0);c.classList.add("mobile-logo"),n.prepend(c),e=!0}}),o.addEventListener("click",i),r.addEventListener("click",c=>{c.target===r&&i()}),n.querySelectorAll("a").forEach(c=>{c.addEventListener("click",i)})});const O=document.getElementById("artists-list"),x=document.getElementById("load-more"),y=document.getElementById("global-loader");let A=1;const M=8;let g=[],N=!1;//!================================================================
async function I(s=1){H(),N=!0;try{const o=await(await fetch(`https://sound-wave.b.goit.study/api/artists?page=${s}`)).json(),r=o.artists||[],t=o.totalArtists||0;g.push(...r),$(),document.querySelectorAll(".artist-card").length>=t&&g.length===0?x.classList.add("hidden"):x.classList.remove("hidden")}catch(n){console.error("Error fetching artists:",n)}finally{P(),N=!1}}function $(){g.splice(0,M).forEach(n=>{var i,d;const o=document.createElement("li");o.classList.add("artist-card");const t=((i=(n.strBiographyEN||"").match(/.*?[.!?]/))==null?void 0:i[0])||"",e=t.length>140?t.slice(0,140)+"…":t;o.innerHTML=`
        <img class="artists-img" src="${n.strArtistThumb||n.image}" alt="${n.strArtist}">
    <p class="artist-genres">
  ${((d=n.genres)==null?void 0:d.map(c=>`<span class="genre">${c}</span>`).join(" "))||""}
</p>
        <h3 class="artist-name">${n.strArtist}</h3>
        <p class="artist-description">${e}</p>
        <button class="learn-more-btn js-learn-more-btn" data-id="${n.id}">Learn More<svg class="load-icon" width="24" height="24"><use href="./img/sprite.svg#icon-caret-right"></use></svg></button>
      `,O.appendChild(o)})}x.addEventListener("click",()=>{g.length>=M?$():N||(A++,I(A))});function H(){y.classList.add("is-active"),y.style.display="block"}function P(){y.classList.remove("is-active"),y.style.display="none"}I(A);document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("artistModal"),n=s.querySelector(".close-modal"),o=s.querySelector("#modalLoader");window.openArtistModal=function(t){s.classList.add("active"),document.body.style.overflow="hidden",o.style.display="block",fetch(`/artists/${t}`).then(e=>e.json()).then(e=>{o.style.display="none";const i=s.querySelector(".modal-title");i.textContent=e.name||"Без названия";const d=s.querySelector(".hero-artist-img");d.src=e.photoUrl||"",d.alt=e.name||"Artist Photo";const c=s.querySelectorAll(".artist-info-list .artist-info");c.length>=4&&(c[0].textContent=e.yearsActive||"",c[1].textContent=e.sex||"",c[2].textContent=Array.isArray(e.members)?e.members.join(", "):e.members||"",c[3].textContent=e.country||"");const q=s.querySelector(".artist-bio .artist-info");q&&(q.textContent=e.biography||"");const L=s.querySelector(".ganres-list");L&&Array.isArray(e.genres)&&(L.innerHTML="",e.genres.forEach(u=>{const a=document.createElement("li");a.className="ganres-item",a.textContent=u,L.appendChild(a)}));const E=s.querySelector(".artist-albums-list");E&&Array.isArray(e.albums)&&(E.innerHTML="",e.albums.forEach(u=>{const a=document.createElement("li");a.className="artist-albums-item";const k=document.createElement("h3");k.className="album-name",k.textContent=u.albumName||"Альбом",a.appendChild(k);const f=document.createElement("ul");f.className="album-track-list";const v=document.createElement("li");v.className="album-track-item";const C=document.createElement("ul");C.className="track-info-list",["Track","Time","Link"].forEach(m=>{const l=document.createElement("li");l.className="track-info-item",l.textContent=m,C.appendChild(l)}),v.appendChild(C),f.appendChild(v),Array.isArray(u.tracks)&&u.tracks.forEach(m=>{const l=document.createElement("li");l.className="album-track-item";const p=document.createElement("ul");p.className="track-info-list";const w=document.createElement("li");w.className="track-info-item",w.textContent=m.trackName||"",p.appendChild(w);const S=document.createElement("li");S.className="track-info-item",S.textContent=m.time||"",p.appendChild(S);const h=document.createElement("li");if(h.className="track-info-item",m.youtubeLink){const b=document.createElement("a");b.href=m.youtubeLink,b.target="_blank",b.textContent="YouTube",h.appendChild(b)}else h.textContent="-";p.appendChild(h),l.appendChild(p),f.appendChild(l)}),a.appendChild(f),E.appendChild(a)}))}).catch(e=>{o.textContent="Помилка завантаження даних",console.error("Error fetching artist data:",e)})};function r(){s.classList.remove("active"),document.body.style.overflow=""}n.addEventListener("click",r),s.addEventListener("click",t=>{t.target===s&&r()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&s.classList.contains("active")&&r()})});const F="https://sound-wave.b.goit.study/api";async function j(s=10,n=1){try{return(await T.get(`${F}/feedbacks`,{params:{limit:s,page:n}})).data}catch(o){throw console.error("Error fetching feedback list:",o),o}}const _=document.querySelector(".swiper-wrapper");async function D(){try{(await j(10,1)).data.forEach(({rating:o,descr:r,name:t})=>{const e=R({rating:o,text:r,user:t});_.appendChild(e)}),K()}catch(s){console.error("Oops...Error",s)}}D();function R({rating:s,text:n,user:o}){const r=document.createElement("div");r.classList.add("swiper-slide");const t=Math.round(s);return r.innerHTML=`
    <div class="feedback-card">
      <div class="feedback-stars">${U(t)}</div>
      <p class="feedback-text">"${n}"</p>
      <p class="feedback-user">– ${o}</p>
    </div>
  `,r}function U(s){let o="";for(let r=1;r<=5;r++){const t=r<=s?"icon-star-filled":"icon-star-outline";o+=`
        <svg class="star-icon" width="24" height="24">
          <use href="/src/public/img/sprite.svg#${t}"></use>
        </svg>
      `}return o}function K(){new B(".feedback-swiper",{loop:!1,navigation:{nextEl:".feedback-button-next",prevEl:".feedback-button-prev"},pagination:{el:".feedback-pagination",clickable:!0},grabCursor:!0})}
//# sourceMappingURL=index.js.map
