import{a as P,S as ie,N as oe,P as ae}from"./assets/vendor-BC2boeYF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();const le="/script-ninjas-project/assets/img-hero-mobile-DozaoJB8.webp",ce="/script-ninjas-project/assets/img-hero-mobile@2x-BywCdna6.webp",de="/script-ninjas-project/assets/img-hero-tablet-DEmBna0Q.webp",ue="/script-ninjas-project/assets/img-hero-tablet@2x-D7g3lQj-.webp",me="/script-ninjas-project/assets/img-hero-desktop-BIdrLZUg.webp",fe="/script-ninjas-project/assets/img-hero-desktop@2x-C2aKVUuq.webp";let F,M;function W(e){if(!e||document.querySelector(`link[rel="preload"][href="${e}"]`))return;const t=document.createElement("link");t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t)}function J(){const e=window.devicePixelRatio>=1.5;return window.matchMedia("(min-width: 1440px)").matches?e?fe:me:window.matchMedia("(min-width: 768px)").matches?e?ue:de:e?ce:le}function Z(e){const t=document.querySelector(".hero-img-wrapper");if(!t){console.error("Hero image container (.hero-img-wrapper) not found!");return}t.style.backgroundImage=`url(${e})`,window.matchMedia("(min-width: 1440px)").matches?t.style.backgroundPosition="center right":t.style.backgroundPosition="center bottom"}function pe(){M=J(),W(M),Z(M)}document.addEventListener("DOMContentLoaded",pe);window.addEventListener("resize",()=>{F&&clearTimeout(F),F=setTimeout(()=>{const e=J();e!==M&&(Z(e),W(e),M=e)},250)});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".burger-btn"),t=document.querySelector(".mobile-menu"),s=document.querySelector(".mobile-close"),i=document.querySelector(".mobile-backdrop"),r=document.querySelector(".header-logo-link");let n=!1;const a=()=>{i.classList.remove("open"),t.classList.remove("open"),document.body.style.overflow=""};e.addEventListener("click",()=>{if(i.classList.add("open"),t.classList.add("open"),document.body.style.overflow="hidden",!n&&r){const d=r.cloneNode(!0);d.classList.add("mobile-logo"),t.prepend(d),n=!0}}),s.addEventListener("click",a),i.addEventListener("click",d=>{d.target===i&&a()}),t.querySelectorAll("a").forEach(d=>{d.addEventListener("click",a)});const c=window.matchMedia("(min-width: 768px)"),f=d=>{d.matches&&i.classList.contains("open")&&a()};c.addEventListener("change",f),f(c)});const R="https://sound-wave.b.goit.study/api";async function ge(e=10,t=1){try{return(await P.get(`${R}/artists`,{params:{limit:e,page:t}})).data}catch(s){throw console.error("Error fetching artist list:",s),s}}async function ye(e){try{return(await P.get(`${R}/artists/${e}`)).data}catch(t){throw console.error(`Error fetching artist details (ID: ${e}):`,t),t}}async function he(e){try{return(await P.post(`${R}/feedbacks`,e)).data}catch(t){throw console.error("Error submitting feedback:",t),t}}async function be(e=10,t=1){try{return(await P.get(`${R}/feedbacks`,{params:{limit:e,page:t}})).data}catch(s){throw console.error("Error fetching feedback list:",s),s}}const o=document.getElementById("artistModal"),A=o==null?void 0:o.querySelector(".close-modal"),w=document.getElementById("modalLoader"),p=o==null?void 0:o.querySelector(".modal-content"),C=o==null?void 0:o.querySelector("#modal-artist-image"),h=o==null?void 0:o.querySelector(".modal-title"),L=o==null?void 0:o.querySelector(".artist-info-list"),u=o==null?void 0:o.querySelector(".artist-info-bio-text"),g=o==null?void 0:o.querySelector("#read-more-bio-btn"),y=o==null?void 0:o.querySelector(".genres-list"),m=o==null?void 0:o.querySelector(".artist-albums-list");o==null||o.querySelector(".artist-albums-block");const Le="/script-ninjas-project";let B=[],D=0;function X(){h&&(h.textContent=""),C&&(C.src="",C.alt="Artist Photo"),L&&(L.innerHTML=""),u&&(u.innerHTML=""),y&&(y.innerHTML=""),m&&(m.innerHTML="");const e=o==null?void 0:o.querySelector(".pagination-controls");e&&e.remove(),g&&(g.style.display="none",g.textContent="Read More",u&&u.classList.remove("expanded"),g.removeEventListener("click",G)),B=[]}function j(){o&&o.classList.remove("open"),document.body&&(document.body.classList.remove("modal-open"),document.body.style.top="",window.scrollTo({top:D,behavior:"instant"})),w&&(w.style.display="none"),p&&(p.style.opacity="0",p.style.visibility="hidden"),X(),document.removeEventListener("keydown",te),o==null||o.removeEventListener("click",ee),A==null||A.removeEventListener("click",j)}function ee(e){e.target===o&&j()}function te(e){e.key==="Escape"&&j()}const ve=e=>!e||typeof e!="string"||e.trim()===""?!1:/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|embed\/|v\/|)([\w-]{11})(.*)?$/.test(e.trim());function ke(){if(!m)return;if(m.innerHTML="",B.length===0){m.innerHTML='<li class="artist-albums-item"><p>No album information available.</p></li>';return}B.forEach(t=>{const s=t.strAlbum&&String(t.strAlbum).trim()!==""?t.strAlbum:"Album Title",i=t.intYearReleased&&String(t.intYearReleased).trim()!==""&&t.intYearReleased!=="0000"&&t.intYearReleased!==null?` (${t.intYearReleased})`:"";let r=`<li class="artist-albums-item">
                            <h3>${s}${i}</h3>
                            <ul class="album-track-list">`;r+=`<li class="album-track-item track-header">
                        <ul class="track-info-list">
                          <li class="track-info-item">Track</li>
                          <li class="track-info-item track-info-item-time">Time</li>
                          <li class="track-info-item track-info-item-link">Link</li>
                        </ul>
                      </li>`,t.tracks&&t.tracks.length>0?t.tracks.forEach((n,a)=>{const l=n.intDuration?we(n.intDuration):"",c=n.movie,d=ve(c)?`<button class="yt-button" data-url="${c}" aria-label="Watch on YouTube">
                <svg class="yt-icon" width="20" height="14">
                    <use href="${Le}/img/sprite.svg#icon-youtube-modal"></use>
                </svg>
            </button>`:"",$=n.strTrack&&String(n.strTrack).trim()!==""?n.strTrack:"Track Name";r+=`<li class="album-track-item">
                            <ul class="track-info-list">
                              <li class="track-info-item">${$}</li>
                              <li class="track-info-item track-info-item-time">${l}</li>
                              <li class="track-info-item track-info-item-link">${d}</li>
                            </ul>
                          </li>`}):r+='<li class="album-track-item"><p>No tracks available for this album.</p></li>',r+="</ul></li>",m.insertAdjacentHTML("beforeend",r)});const e=m==null?void 0:m.querySelectorAll(".yt-button");e==null||e.forEach(t=>{t.addEventListener("click",function(s){const i=s.currentTarget.dataset.url;i&&window.open(i,"_blank")})})}function we(e){const t=typeof e=="string"?parseInt(e,10):e;if(typeof t!="number"||isNaN(t)||t<=0)return"";const s=Math.floor(t/1e3),i=Math.floor(s/60),r=s%60;return`${i}:${r<10?"0":""}${r}`}function G(){u&&g&&(u.classList.toggle("expanded"),g.textContent=u.classList.contains("expanded")?"Read Less":"Read More")}async function Ee(e){if([o,w,p,h,C,L,u,y,m].some(n=>!n)){console.error("Missing modal DOM elements.");return}D=window.scrollY,document.body.style.top=`-${D}px`,document.body.classList.add("modal-open"),o.classList.add("open"),X(),w.style.display="flex",p.style.opacity="0",p.style.visibility="hidden",document.addEventListener("keydown",te),o==null||o.addEventListener("click",ee),A==null||A.addEventListener("click",j);let s,i,r=[];if(typeof e=="object"&&e!==null?(i=e._id,Array.isArray(e.genres)&&e.genres.length>0?r=e.genres:typeof e.strGenre=="string"&&String(e.strGenre).trim()!==""&&(r=e.strGenre.split(";").map(n=>n.trim()).filter(n=>n!==""))):i=e,!i){console.error("Artist ID missing."),w.style.display="none",h&&(h.textContent="Error: Artist ID missing"),p&&(p.style.opacity="1",p.style.visibility="visible");return}try{s=await ye(i);const n={...s};if(r.length>0?n.genres=r:n.genres=[],n){if(h.textContent=n.strArtist&&String(n.strArtist).trim()!==""?n.strArtist:"",C.src=n.strArtistFanart||n.strArtistThumb||n.image||"",C.alt=n.strArtist||"Artist Photo",L){const a=n.intFormedYear,l=n.intDiedYear;let c="";a&&String(a).trim()!==""&&a!=="0000"&&a!==null&&(l&&String(l).trim()!==""&&l!=="0000"&&l!=="Present"&&l!==null?c=`${a} - ${l}`:c=`${a} - present`);const f=n.strGender&&String(n.strGender).trim()!==""&&String(n.strGender).trim().toLowerCase()!=="null"?n.strGender:"",d=n.intMembers&&String(n.intMembers).trim()!==""&&n.intMembers!=="0"&&n.intMembers!==null?n.intMembers:"",$=n.strCountry&&String(n.strCountry).trim()!==""&&String(n.strCountry).trim().toLowerCase()!=="null"?n.strCountry:"";L.innerHTML=`
          <li class="artist-info-item">
            <h3>Years Active</h3>
            <p class="artist-info">${c}</p>
          </li>
          <li class="artist-info-item">
            <h3>Gender</h3>
            <p class="artist-info">${f}</p>
          </li>
          <li class="artist-info-item">
            <h3>Members</h3>
            <p class="artist-info">${d}</p>
          </li>
          <li class="artist-info-item">
            <h3>Country</h3>
            <p class="artist-info">${$}</p>
          </li>
        `}if(u){const a=n.strBiographyEN&&String(n.strBiographyEN).trim()!==""&&String(n.strBiographyEN).trim().toLowerCase()!=="null"?n.strBiographyEN:"Biography unavailable.";u.textContent=a,a.length>300?(u.classList.add("collapsed"),g&&(g.style.display="block",g.textContent="Read More",g.addEventListener("click",G))):(u.classList.remove("collapsed"),g&&(g.style.display="none",g.removeEventListener("click",G)))}if(y){y.innerHTML="";let a=n.genres||[];if(a.length>0&&a.forEach(l=>{if(l&&String(l).trim()!==""&&String(l).trim().toLowerCase()!=="null"){const c=document.createElement("li");c.className="genres-item",c.textContent=l,y.appendChild(c)}}),y.children.length===0){const l=document.createElement("li");l.className="genres-item",l.textContent="Genres unavailable",y.appendChild(l)}}if(n.tracksList&&n.tracksList.length>0){const a=new Map;n.tracksList.forEach(l=>{const c=l.strAlbum||"Unknown Album",f=l.idAlbum||c;a.has(f)||a.set(f,{strAlbum:c,intYearReleased:l.intYearReleased||"",idAlbum:f,tracks:[]}),a.get(f).tracks.push(l)}),B=Array.from(a.values()).sort((l,c)=>{const f=parseInt(l.intYearReleased)||0;return(parseInt(c.intYearReleased)||0)-f}),ke()}else m&&(m.innerHTML='<li class="artist-albums-item"><p>Album and track information unavailable.</p></li>')}else h&&(h.textContent="Artist Not Found"),L&&(L.innerHTML='<li class="artist-info-item"><p>Could not retrieve artist details.</p></li>'),u&&(u.innerHTML=""),y&&(y.innerHTML=""),m&&(m.innerHTML="");w.style.display="none",p.style.opacity="1",p.style.visibility="visible"}catch(n){if(console.error("Error loading data:",n),w.style.display="none",p&&(p.style.opacity="1",p.style.visibility="visible"),o){h&&(h.textContent="Error loading data!");let a="Unfortunately, artist data could not be loaded. ";n.response?(a+=`Status: ${n.response.status}. `,n.response.status===404?a+="Resource not found or API path incorrect.":n.response.data&&n.response.data.message&&(a+=`Message: ${n.response.data.message}`)):n.request?a+="No response from server. Network issue.":a+=`Message: ${n.message}`,L&&(L.innerHTML=`<li class="artist-info-item"><p class="error">${a}</p></li>`),u&&(u.innerHTML=""),y&&(y.innerHTML=""),m&&(m.innerHTML="")}}}const H=document.getElementById("artists-list"),S=document.getElementById("load-more"),T=document.getElementById("global-loader");let O=1;const Q=8;let N=[],U=!1,ne=new Map;async function se(e=1){Se(),U=!0;try{const t=await ge(Q,e),s=t.artists||[],i=t.totalArtists||0;s.forEach(n=>{N.push(n);const a=n._id||n.idArtist||n.id;a&&ne.set(a,n)}),re(),document.querySelectorAll(".artist-card").length>=i&&N.length===0?S.classList.add("hidden"):S.classList.remove("hidden")}catch(t){console.error("Error fetching artists:",t),H&&(H.innerHTML='<li class="artist-card"><p>Failed to load artists. Please try again later.</p></li>'),S&&S.classList.add("hidden")}finally{Ae(),U=!1}}function re(){const e=N.splice(0,Q),t=document.createDocumentFragment();e.forEach(s=>{var d;const i=document.createElement("li");i.classList.add("artist-card");const n=((d=(s.strBiographyEN||"").match(/^[^.!?]*[.!?]\s*/))==null?void 0:d[0])||"",a=n.length>140?n.slice(0,140)+"…":n||"No biography available.",c=(Array.isArray(s.genres)&&s.genres.length>0?s.genres:[]).map($=>`<span class="genre">${$}</span>`).join(" "),f=s._id||s.idArtist||s.id;i.innerHTML=`
      <div class="artists-image"><img class="artists-img" src="${s.strArtistThumb||s.image||"https://via.placeholder.com/200x200?text=No+Image"}" alt="${s.strArtist||"Artist image"}"></div>
      <p class="artist-genres">
        ${c||"No genres"}
      </p>
      <h3 class="artist-name">${s.strArtist||"Unknown Artist"}</h3>
      <p class="artist-description">${a}</p>

      <button class="learn-more-btn js-learn-more-btn"
              data-id="${f}">Learn More
        <svg class="load-icon" width="24" height="24"><use href="./img/sprite.svg#icon-caret-right"></use></svg>
      </button>

    `,t.appendChild(i)}),H&&H.appendChild(t),Ce()}S.addEventListener("click",()=>{S.blur(),N.length>=Q?re():U||(O++,se(O))});function Se(){T&&(T.classList.add("is-active"),T.style.display="block")}function Ae(){T&&(T.classList.remove("is-active"),T.style.display="none")}function Ce(){document.querySelectorAll(".js-learn-more-btn").forEach(t=>{t.dataset.listenerAttached||(t.addEventListener("click",Te),t.dataset.listenerAttached="true")})}async function Te(e){const t=e.currentTarget.dataset.id;if(!t){console.warn("Artist ID not found for modal. Cannot open modal.");return}const s=ne.get(t);try{await Ee(s||t)}catch(i){console.error("Error opening artist modal:",i)}}document.addEventListener("DOMContentLoaded",()=>{se(O)});let k,_,Y,v,V,E,b=0,z=0;document.addEventListener("DOMContentLoaded",()=>{if(k=document.querySelector(".modal-overlay"),_=document.querySelector(".leave-feedback-modal"),Y=document.querySelector(".modal-close"),v=document.querySelector(".feedback-form"),V=document.querySelectorAll(".star"),E=document.getElementById("feedback-loader"),!k||!_||!Y||!v){console.warn("Modal elements not found for feedback modal.");return}V.forEach((e,t)=>{const s=t+1;e.addEventListener("mouseenter",()=>x(s)),e.addEventListener("mouseleave",()=>x(b)),e.addEventListener("click",()=>{b=s,x(b)})}),Y.addEventListener("click",I),k.addEventListener("click",e=>{e.target===k&&I()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&k.classList.contains("is-open")&&I()}),v.addEventListener("submit",async e=>{var i;e.preventDefault(),(i=document.querySelector(".feedback-error"))==null||i.remove();const t=v.elements.name.value.trim(),s=v.elements.message.value.trim();if(t.length<2||t.length>16){q("Name must be between 2 and 16 characters.");return}if(b<1||b>5){q("Please select a rating between 1 and 5.");return}if(s.length<10||s.length>512){q("Message must be between 10 and 512 characters.");return}xe();try{console.log("Submitting data:",{name:t,rating:b,message:s});const r=await he({name:t,rating:b,descr:s});console.log("Feedback submitted successfully:",r),I(),v.reset(),b=0,x(0)}catch(r){q("Failed to submit feedback. Please try again later."),console.error("Error submitting feedback via apiService:",r)}finally{Me()}})});function $e(){var e;if(!k||!_){console.warn("Modal elements not initialized. Cannot open modal.");return}z=window.scrollY,document.body.style.top=`-${z}px`,document.body.classList.add("modal-open"),k.classList.add("is-open"),v.reset(),b=0,x(0),(e=document.querySelector(".feedback-error"))==null||e.remove()}function I(){k.classList.remove("is-open"),document.body.classList.remove("modal-open"),document.body.style.top="",window.scrollTo({top:z,behavior:"instant"})}function x(e){V.forEach((t,s)=>{t.classList.toggle("filled",s<e)})}function xe(){E==null||E.style.setProperty("display","block")}function Me(){E==null||E.style.setProperty("display","none")}function q(e){const t=document.querySelector(".feedback-error");t&&t.remove();const s=document.createElement("div");s.className="feedback-error",s.textContent=e,s.style.color="red",s.style.marginTop="8px",v.appendChild(s)}const Ie=document.querySelector(".swiper-wrapper"),K=document.querySelector(".leave-feedback-button");async function qe(){try{const t=(await be(10,1)).data;t&&t.length>0?(t.forEach(({rating:s,descr:i,name:r})=>{const n=Be({rating:s,text:i,user:r});Ie.appendChild(n)}),Ne()):console.warn("No feedbacks received from the API.")}catch(e){console.error("Oops...Error loading feedbacks:",e)}}qe();function Be({rating:e,text:t,user:s}){const i=document.createElement("div");i.classList.add("swiper-slide");const r=Math.round(e);return i.innerHTML=`
    <div class="feedback-card">
      <div class="feedback-stars">${He(r)}</div>
      <p class="feedback-text">"${t}"</p>
      <p class="feedback-user">${s}</p>
    </div>
  `,i}function He(e){let s="";for(let i=1;i<=5;i++){const r=i<=e?"star-filled":"star-outline";s+=`
        <svg class="star-icon ${r}" width="24" height="24">
          <use href="./img/sprite.svg#icon-star"></use>
        </svg>
      `}return s}function Ne(){new ie(".feedback-swiper",{loop:!1,modules:[oe,ae],navigation:{nextEl:".feedback-button-next",prevEl:".feedback-button-prev"},pagination:{el:".feedback-pagination",clickable:!0,type:"custom",renderCustom:function(t,s,i){const r=s===1?"swiper-pagination-bullet-active":"",n=s>1&&s<i?"swiper-pagination-bullet-active":"";return`
          <span class="swiper-pagination-bullet ${r}" data-slide-target="first-slide-go"></span>
          <span class="swiper-pagination-bullet ${n}" data-slide-target="indicator-only"></span>
          <span class="swiper-pagination-bullet ${s===i?"swiper-pagination-bullet-active":""}" data-slide-target="last-slide-go"></span>
        `}},on:{init:function(){e(this)},paginationRender:function(){e(this)}},grabCursor:!0});function e(t){const s=document.querySelector(".feedback-pagination");if(!s)return;s.removeEventListener("click",i),s.addEventListener("click",i);function i(r){const n=r.target.closest(".swiper-pagination-bullet");if(!n)return;const a=n.getAttribute("data-slide-target"),l=t.slides.length;if(a==="first-slide-go")t.slideTo(0);else if(a==="last-slide-go")t.slideTo(l-1);else if(a==="indicator-only")return}}}document.addEventListener("DOMContentLoaded",()=>{K?K.addEventListener("click",$e):console.warn("Leave feedback button not found.")});
//# sourceMappingURL=index.js.map
