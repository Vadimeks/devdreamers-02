import{a as N,S as re,N as ie,P as oe}from"./assets/vendor-BiPdG8q2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const e of i)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const e={};return i.integrity&&(e.integrity=i.integrity),i.referrerPolicy&&(e.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?e.credentials="include":i.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(i){if(i.ep)return;i.ep=!0;const e=s(i);fetch(i.href,e)}})();document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".hero-column-one"),t=document.querySelector(".hero-column-two");if(!n||!t)return;let r=[...Array.from(document.querySelectorAll(".hero-artist-card")).sort((d,u)=>parseInt(d.dataset.artistIndex)-parseInt(u.dataset.artistIndex))];const i=()=>{const d=new Map;r.forEach(m=>{d.set(m.dataset.artistIndex,m.getBoundingClientRect())}),r=[r[2],r[0],r[4],r[1],r[5],r[3]],n.innerHTML="",t.innerHTML="",n.appendChild(r[0]),t.appendChild(r[1]),n.appendChild(r[2]),t.appendChild(r[3]),n.appendChild(r[4]),t.appendChild(r[5]),r.forEach(m=>{const K=m.getBoundingClientRect(),Y=d.get(m.dataset.artistIndex);if(!Y){m.style.transform="";return}const ne=Y.left-K.left,se=Y.top-K.top;m.style.transition="none",m.style.transform=`translate(${ne}px, ${se}px)`,m.offsetWidth,m.style.transition="transform 0.5s ease-in-out",m.style.transform="translate(0, 0)"})};let e;((d=1e3,u=3e3)=>{clearInterval(e),setTimeout(()=>{i(),e=setInterval(i,u)},d)})();const l=document.querySelector(".explore-btn"),c=document.getElementById("artist-section");l&&c&&l.addEventListener("click",d=>{d.preventDefault(),c.scrollIntoView({behavior:"smooth"})})});document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector(".burger-btn"),t=document.querySelector(".mobile-menu"),s=document.querySelector(".mobile-close"),r=document.querySelector(".mobile-backdrop"),i=document.querySelector(".header-logo-link");let e=!1;const o=()=>{r.classList.remove("open"),t.classList.remove("open"),document.body.style.overflow=""};n.addEventListener("click",()=>{if(r.classList.add("open"),t.classList.add("open"),document.body.style.overflow="hidden",!e&&i){const u=i.cloneNode(!0);u.classList.add("mobile-logo"),t.prepend(u),e=!0}}),s.addEventListener("click",o),r.addEventListener("click",u=>{u.target===r&&o()}),t.querySelectorAll("a").forEach(u=>{u.addEventListener("click",o)});const c=window.matchMedia("(min-width: 768px)"),d=u=>{u.matches&&r.classList.contains("open")&&o()};c.addEventListener("change",d),d(c)});const P="https://sound-wave.b.goit.study/api";async function ae(n=10,t=1){try{return(await N.get(`${P}/artists`,{params:{limit:n,page:t}})).data}catch(s){throw console.error("Error fetching artist list:",s),s}}async function le(n){try{return(await N.get(`${P}/artists/${n}`)).data}catch(t){throw console.error(`Error fetching artist details (ID: ${n}):`,t),t}}async function ce(n){try{return(await N.post(`${P}/feedbacks`,n)).data}catch(t){throw console.error("Error submitting feedback:",t),t}}async function de(n=10,t=1){try{return(await N.get(`${P}/feedbacks`,{params:{limit:n,page:t}})).data}catch(s){throw console.error("Error fetching feedback list:",s),s}}const a=document.getElementById("artistModal"),S=a==null?void 0:a.querySelector(".close-modal"),w=document.getElementById("modalLoader"),g=a==null?void 0:a.querySelector(".modal-content"),$=a==null?void 0:a.querySelector("#modal-artist-image"),b=a==null?void 0:a.querySelector(".modal-title"),L=a==null?void 0:a.querySelector(".artist-info-list"),f=a==null?void 0:a.querySelector(".artist-info-bio-text"),y=a==null?void 0:a.querySelector("#read-more-bio-btn"),h=a==null?void 0:a.querySelector(".genres-list"),p=a==null?void 0:a.querySelector(".artist-albums-list");a==null||a.querySelector(".artist-albums-block");const ue="/script-ninjas-project";let q=[],O=0;function z(){b&&(b.textContent=""),$&&($.src="",$.alt="Artist Photo"),L&&(L.innerHTML=""),f&&(f.innerHTML=""),h&&(h.innerHTML=""),p&&(p.innerHTML="");const n=a==null?void 0:a.querySelector(".pagination-controls");n&&n.remove(),y&&(y.style.display="none",y.textContent="Read More",f&&f.classList.remove("expanded"),y.removeEventListener("click",G)),q=[]}function R(){a&&a.classList.remove("open"),document.body&&(document.body.classList.remove("modal-open"),document.body.style.top="",window.scrollTo({top:O,behavior:"instant"})),w&&(w.style.display="none"),g&&(g.style.opacity="0",g.style.visibility="hidden"),z(),document.removeEventListener("keydown",J),a==null||a.removeEventListener("click",X),S==null||S.removeEventListener("click",R)}function X(n){n.target===a&&R()}function J(n){n.key==="Escape"&&R()}const me=n=>!n||typeof n!="string"||n.trim()===""?!1:/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/(watch\?v=|embed\/|v\/|)([\w-]{11})(.*)?$/.test(n.trim());function fe(){if(!p)return;if(p.innerHTML="",q.length===0){p.innerHTML='<li class="artist-albums-item"><p>No album information available.</p></li>';return}q.forEach(t=>{const s=t.strAlbum&&String(t.strAlbum).trim()!==""?t.strAlbum:"Album Title",r=t.intYearReleased&&String(t.intYearReleased).trim()!==""&&t.intYearReleased!=="0000"&&t.intYearReleased!==null?` (${t.intYearReleased})`:"";let i=`<li class="artist-albums-item">
                            <h3>${s}${r}</h3>
                            <ul class="album-track-list">`;i+=`<li class="album-track-item track-header">
                        <ul class="track-info-list">
                          <li class="track-info-item">Track</li>
                          <li class="track-info-item track-info-item-time">Time</li>
                          <li class="track-info-item track-info-item-link">Link</li>
                        </ul>
                      </li>`,t.tracks&&t.tracks.length>0?t.tracks.forEach((e,o)=>{const l=e.intDuration?pe(e.intDuration):"",c=e.movie,u=me(c)?`<button class="yt-button" data-url="${c}" aria-label="Watch on YouTube">
                <svg class="yt-icon" width="20" height="14">
                    <use href="${ue}/img/sprite.svg#icon-youtube-modal"></use>
                </svg>
            </button>`:"",m=e.strTrack&&String(e.strTrack).trim()!==""?e.strTrack:"Track Name";i+=`<li class="album-track-item">
                            <ul class="track-info-list">
                              <li class="track-info-item">${m}</li>
                              <li class="track-info-item track-info-item-time">${l}</li>
                              <li class="track-info-item track-info-item-link">${u}</li>
                            </ul>
                          </li>`}):i+='<li class="album-track-item"><p>No tracks available for this album.</p></li>',i+="</ul></li>",p.insertAdjacentHTML("beforeend",i)});const n=p==null?void 0:p.querySelectorAll(".yt-button");n==null||n.forEach(t=>{t.addEventListener("click",function(s){const r=s.currentTarget.dataset.url;r&&window.open(r,"_blank")})})}function pe(n){const t=typeof n=="string"?parseInt(n,10):n;if(typeof t!="number"||isNaN(t)||t<=0)return"";const s=Math.floor(t/1e3),r=Math.floor(s/60),i=s%60;return`${r}:${i<10?"0":""}${i}`}function G(){f&&y&&(f.classList.toggle("expanded"),y.textContent=f.classList.contains("expanded")?"Read Less":"Read More")}async function ge(n){if([a,w,g,b,$,L,f,h,p].some(e=>!e)){console.error("Missing modal DOM elements.");return}O=window.scrollY,document.body.style.top=`-${O}px`,document.body.classList.add("modal-open"),a.classList.add("open"),z(),w.style.display="flex",g.style.opacity="0",g.style.visibility="hidden",document.addEventListener("keydown",J),a==null||a.addEventListener("click",X),S==null||S.addEventListener("click",R);let s,r,i=[];if(typeof n=="object"&&n!==null?(r=n._id,Array.isArray(n.genres)&&n.genres.length>0?i=n.genres:typeof n.strGenre=="string"&&String(n.strGenre).trim()!==""&&(i=n.strGenre.split(";").map(e=>e.trim()).filter(e=>e!==""))):r=n,!r){console.error("Artist ID missing."),w.style.display="none",b&&(b.textContent="Error: Artist ID missing"),g&&(g.style.opacity="1",g.style.visibility="visible");return}try{s=await le(r);const e={...s};if(i.length>0?e.genres=i:e.genres=[],e){if(b.textContent=e.strArtist&&String(e.strArtist).trim()!==""?e.strArtist:"",$.src=e.strArtistFanart||e.strArtistThumb||e.image||"",$.alt=e.strArtist||"Artist Photo",L){const o=e.intFormedYear,l=e.intDiedYear;let c="";o&&String(o).trim()!==""&&o!=="0000"&&o!==null&&(l&&String(l).trim()!==""&&l!=="0000"&&l!=="Present"&&l!==null?c=`${o} - ${l}`:c=`${o} - present`);const d=e.strGender&&String(e.strGender).trim()!==""&&String(e.strGender).trim().toLowerCase()!=="null"?e.strGender:"",u=e.intMembers&&String(e.intMembers).trim()!==""&&e.intMembers!=="0"&&e.intMembers!==null?e.intMembers:"",m=e.strCountry&&String(e.strCountry).trim()!==""&&String(e.strCountry).trim().toLowerCase()!=="null"?e.strCountry:"";L.innerHTML=`
          <li class="artist-info-item">
            <h3>Years Active</h3>
            <p class="artist-info">${c}</p>
          </li>
          <li class="artist-info-item">
            <h3>Gender</h3>
            <p class="artist-info">${d}</p>
          </li>
          <li class="artist-info-item">
            <h3>Members</h3>
            <p class="artist-info">${u}</p>
          </li>
          <li class="artist-info-item">
            <h3>Country</h3>
            <p class="artist-info">${m}</p>
          </li>
        `}if(f){const o=e.strBiographyEN&&String(e.strBiographyEN).trim()!==""&&String(e.strBiographyEN).trim().toLowerCase()!=="null"?e.strBiographyEN:"Biography unavailable.";f.textContent=o,o.length>300?(f.classList.add("collapsed"),y&&(y.style.display="block",y.textContent="Read More",y.addEventListener("click",G))):(f.classList.remove("collapsed"),y&&(y.style.display="none",y.removeEventListener("click",G)))}if(h){h.innerHTML="";let o=e.genres||[];if(o.length>0&&o.forEach(l=>{if(l&&String(l).trim()!==""&&String(l).trim().toLowerCase()!=="null"){const c=document.createElement("li");c.className="genres-item",c.textContent=l,h.appendChild(c)}}),h.children.length===0){const l=document.createElement("li");l.className="genres-item",l.textContent="Genres unavailable",h.appendChild(l)}}if(e.tracksList&&e.tracksList.length>0){const o=new Map;e.tracksList.forEach(l=>{const c=l.strAlbum||"Unknown Album",d=l.idAlbum||c;o.has(d)||o.set(d,{strAlbum:c,intYearReleased:l.intYearReleased||"",idAlbum:d,tracks:[]}),o.get(d).tracks.push(l)}),q=Array.from(o.values()).sort((l,c)=>{const d=parseInt(l.intYearReleased)||0;return(parseInt(c.intYearReleased)||0)-d}),fe()}else p&&(p.innerHTML='<li class="artist-albums-item"><p>Album and track information unavailable.</p></li>')}else b&&(b.textContent="Artist Not Found"),L&&(L.innerHTML='<li class="artist-info-item"><p>Could not retrieve artist details.</p></li>'),f&&(f.innerHTML=""),h&&(h.innerHTML=""),p&&(p.innerHTML="");w.style.display="none",g.style.opacity="1",g.style.visibility="visible"}catch(e){if(console.error("Error loading data:",e),w.style.display="none",g&&(g.style.opacity="1",g.style.visibility="visible"),a){b&&(b.textContent="Error loading data!");let o="Unfortunately, artist data could not be loaded. ";e.response?(o+=`Status: ${e.response.status}. `,e.response.status===404?o+="Resource not found or API path incorrect.":e.response.data&&e.response.data.message&&(o+=`Message: ${e.response.data.message}`)):e.request?o+="No response from server. Network issue.":o+=`Message: ${e.message}`,L&&(L.innerHTML=`<li class="artist-info-item"><p class="error">${o}</p></li>`),f&&(f.innerHTML=""),h&&(h.innerHTML=""),p&&(p.innerHTML="")}}}const B=document.getElementById("artists-list"),C=document.getElementById("load-more"),T=document.getElementById("global-loader");let D=1;const W=8;let H=[],U=!1,Z=new Map;async function ee(n=1){ye(),U=!0;try{const t=await ae(W,n),s=t.artists||[],r=t.totalArtists||0;s.forEach(e=>{H.push(e);const o=e._id||e.idArtist||e.id;o&&Z.set(o,e)}),te(),document.querySelectorAll(".artist-card").length>=r&&H.length===0?C.classList.add("hidden"):C.classList.remove("hidden")}catch(t){console.error("Error fetching artists:",t),B&&(B.innerHTML='<li class="artist-card"><p>Failed to load artists. Please try again later.</p></li>'),C&&C.classList.add("hidden")}finally{he(),U=!1}}function te(){const n=H.splice(0,W),t=document.createDocumentFragment();n.forEach(s=>{var u;const r=document.createElement("li");r.classList.add("artist-card");const e=((u=(s.strBiographyEN||"").match(/^[^.!?]*[.!?]\s*/))==null?void 0:u[0])||"",o=e.length>140?e.slice(0,140)+"â€¦":e||"No biography available.",c=(Array.isArray(s.genres)&&s.genres.length>0?s.genres:[]).map(m=>`<span class="genre">${m}</span>`).join(" "),d=s._id||s.idArtist||s.id;r.innerHTML=`
      <div class="artists-image"><img class="artists-img" src="${s.strArtistThumb||s.image||"https://via.placeholder.com/200x200?text=No+Image"}" alt="${s.strArtist||"Artist image"}"></div>
      <p class="artist-genres">
        ${c||"No genres"}
      </p>
      <h3 class="artist-name">${s.strArtist||"Unknown Artist"}</h3>
      <p class="artist-description">${o}</p>

      <button class="learn-more-btn js-learn-more-btn"
              data-id="${d}">Learn More
        <svg class="load-icon" width="24" height="24"><use href="./img/sprite.svg#icon-caret-right"></use></svg>
      </button>

    `,t.appendChild(r)}),B&&B.appendChild(t),be()}C.addEventListener("click",()=>{C.blur(),H.length>=W?te():U||(D++,ee(D))});function ye(){T&&(T.classList.add("is-active"),T.style.display="block")}function he(){T&&(T.classList.remove("is-active"),T.style.display="none")}function be(){document.querySelectorAll(".js-learn-more-btn").forEach(t=>{t.dataset.listenerAttached||(t.addEventListener("click",ve),t.dataset.listenerAttached="true")})}async function ve(n){const t=n.currentTarget.dataset.id;if(!t){console.warn("Artist ID not found for modal. Cannot open modal.");return}const s=Z.get(t);try{await ge(s||t)}catch(r){console.error("Error opening artist modal:",r)}}document.addEventListener("DOMContentLoaded",()=>{ee(D)});let E,_,F,k,j,A,v=0,V=0;document.addEventListener("DOMContentLoaded",()=>{if(E=document.querySelector(".modal-overlay"),_=document.querySelector(".leave-feedback-modal"),F=document.querySelector(".modal-close"),k=document.querySelector(".feedback-form"),j=document.querySelectorAll(".star"),A=document.getElementById("feedback-loader"),!E||!_||!F||!k){console.warn("Modal elements not found for feedback modal.");return}j.forEach((n,t)=>{const s=t+1;n.addEventListener("mouseenter",()=>x(s)),n.addEventListener("mouseleave",()=>x(v)),n.addEventListener("click",()=>{v=s,x(v)})}),F.addEventListener("click",M),E.addEventListener("click",n=>{n.target===E&&M()}),document.addEventListener("keydown",n=>{n.key==="Escape"&&E.classList.contains("is-open")&&M()}),k.addEventListener("submit",async n=>{var r;n.preventDefault(),(r=document.querySelector(".feedback-error"))==null||r.remove();const t=k.elements.name.value.trim(),s=k.elements.message.value.trim();if(t.length<2||t.length>16){I("Name must be between 2 and 16 characters.");return}if(v<1||v>5){I("Please select a rating between 1 and 5.");return}if(s.length<10||s.length>512){I("Message must be between 10 and 512 characters.");return}ke();try{console.log("Submitting data:",{name:t,rating:v,message:s});const i=await ce({name:t,rating:v,descr:s});console.log("Feedback submitted successfully:",i),M(),k.reset(),v=0,x(0)}catch(i){I("Failed to submit feedback. Please try again later."),console.error("Error submitting feedback via apiService:",i)}finally{Ee()}})});function Le(){var n;if(!E||!_){console.warn("Modal elements not initialized. Cannot open modal.");return}V=window.scrollY,document.body.style.top=`-${V}px`,document.body.classList.add("modal-open"),E.classList.add("is-open"),k.reset(),v=0,x(0),(n=document.querySelector(".feedback-error"))==null||n.remove()}function M(){E.classList.remove("is-open"),document.body.classList.remove("modal-open"),document.body.style.top="",window.scrollTo({top:V,behavior:"instant"})}function x(n){j.forEach((t,s)=>{t.classList.toggle("filled",s<n)})}function ke(){A==null||A.style.setProperty("display","block")}function Ee(){A==null||A.style.setProperty("display","none")}function I(n){const t=document.querySelector(".feedback-error");t&&t.remove();const s=document.createElement("div");s.className="feedback-error",s.textContent=n,s.style.color="red",s.style.marginTop="8px",k.appendChild(s)}const we=document.querySelector(".swiper-wrapper"),Q=document.querySelector(".leave-feedback-button");async function Ae(){try{const t=(await de(10,1)).data;t&&t.length>0?(t.forEach(({rating:s,descr:r,name:i})=>{const e=Ce({rating:s,text:r,user:i});we.appendChild(e)}),$e()):console.warn("No feedbacks received from the API.")}catch(n){console.error("Oops...Error loading feedbacks:",n)}}Ae();function Ce({rating:n,text:t,user:s}){const r=document.createElement("div");r.classList.add("swiper-slide");const i=Math.round(n);return r.innerHTML=`
    <div class="feedback-card">
      <div class="feedback-stars">${Se(i)}</div>
      <p class="feedback-text">"${t}"</p>
      <p class="feedback-user">${s}</p>
    </div>
  `,r}function Se(n){let s="";for(let r=1;r<=5;r++){const i=r<=n?"star-filled":"star-outline";s+=`
        <svg class="star-icon ${i}" width="24" height="24">
          <use href="./img/sprite.svg#icon-star"></use>
        </svg>
      `}return s}function $e(){new re(".feedback-swiper",{loop:!1,modules:[ie,oe],navigation:{nextEl:".feedback-button-next",prevEl:".feedback-button-prev"},pagination:{el:".feedback-pagination",clickable:!0,type:"custom",renderCustom:function(t,s,r){const i=s===1?"swiper-pagination-bullet-active":"",e=s>1&&s<r?"swiper-pagination-bullet-active":"";return`
          <span class="swiper-pagination-bullet ${i}" data-slide-target="first-slide-go"></span>
          <span class="swiper-pagination-bullet ${e}" data-slide-target="indicator-only"></span>
          <span class="swiper-pagination-bullet ${s===r?"swiper-pagination-bullet-active":""}" data-slide-target="last-slide-go"></span>
        `}},on:{init:function(){n(this)},paginationRender:function(){n(this)}},grabCursor:!0});function n(t){const s=document.querySelector(".feedback-pagination");if(!s)return;s.removeEventListener("click",r),s.addEventListener("click",r);function r(i){const e=i.target.closest(".swiper-pagination-bullet");if(!e)return;const o=e.getAttribute("data-slide-target"),l=t.slides.length;if(o==="first-slide-go")t.slideTo(0);else if(o==="last-slide-go")t.slideTo(l-1);else if(o==="indicator-only")return}}}document.addEventListener("DOMContentLoaded",()=>{Q?Q.addEventListener("click",Le):console.warn("Leave feedback button not found.")});
//# sourceMappingURL=index.js.map
