{"version":3,"file":"index.js","sources":["../src/js/mobile-menu.js","../src/js/modal-artists.js","../src/js/feedback.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const burger = document.querySelector('.burger-btn');\n  const modalMenu = document.querySelector('.mobile-menu');\n  const closeBtn = document.querySelector('.mobile-close');\n  const backdrop = document.querySelector('.mobile-backdrop');\n  const headerLogo = document.querySelector('.header-logo-link');\n\n  let logoCloned = false;\n\n  const closeMenu = () => {\n    backdrop.classList.remove('open');\n    modalMenu.classList.remove('open');\n    document.body.style.overflow = '';\n  };\n\n  burger.addEventListener('click', () => {\n    backdrop.classList.add('open');\n    modalMenu.classList.add('open');\n    document.body.style.overflow = 'hidden';\n\n    if (!logoCloned && headerLogo) {\n      const logoClone = headerLogo.cloneNode(true);\n      logoClone.classList.add('mobile-logo');\n      modalMenu.prepend(logoClone);\n      logoCloned = true;\n    }\n  });\n\n  closeBtn.addEventListener('click', closeMenu);\n\n  backdrop.addEventListener('click', e => {\n    if (e.target === backdrop) closeMenu();\n  });\n\n  const mobileLinks = modalMenu.querySelectorAll('a');\n  mobileLinks.forEach(link => {\n    link.addEventListener('click', closeMenu);\n  });\n});\n","document.addEventListener('DOMContentLoaded', () => {\n                  const modal = document.getElementById('artistModal');\n                  const closeModalButton = modal.querySelector('.close-modal');\n                  const modalLoader = modal.querySelector('#modalLoader');\n                \n                  /**\n                   * Открытие модального окна с привязкой к id артиста.\n                   * @param {number|string} artistId – Идентификатор артиста.\n                   */\n                  window.openArtistModal = function (artistId) {\n                    modal.classList.add('active'); \n                    document.body.style.overflow = 'hidden';\n                \n                    modalLoader.style.display = 'block';\n                \n                    fetch(`/artists/${artistId}`)\n                      .then(response => response.json())\n                      .then(data => {\n                        modalLoader.style.display = 'none';\n                \n                        const titleEl = modal.querySelector('.modal-title');\n                        titleEl.textContent = data.name || 'Без названия';\n                \n                        const photoEl = modal.querySelector('.hero-artist-img');\n                        photoEl.src = data.photoUrl || '';\n                        photoEl.alt = data.name || 'Artist Photo';\n                \n                        const infoItems = modal.querySelectorAll('.artist-info-list .artist-info');\n                        if (infoItems.length >= 4) {\n                          infoItems[0].textContent = data.yearsActive || '';\n                          infoItems[1].textContent = data.sex || '';\n                          infoItems[2].textContent = Array.isArray(data.members)\n                            ? data.members.join(', ')\n                            : data.members || '';\n                          infoItems[3].textContent = data.country || '';\n                        }\n                \n                        const bioEl = modal.querySelector('.artist-bio .artist-info');\n                        if (bioEl) {\n                          bioEl.textContent = data.biography || '';\n                        }\n                \n                        const genresListEl = modal.querySelector('.ganres-list');\n                        if (genresListEl && Array.isArray(data.genres)) {\n                          genresListEl.innerHTML = ''; \n                          data.genres.forEach(genre => {\n                            const li = document.createElement('li');\n                            li.className = 'ganres-item';\n                            li.textContent = genre;\n                            genresListEl.appendChild(li);\n                          });\n                        }\n                \n                        const albumsListEl = modal.querySelector('.artist-albums-list');\n                        if (albumsListEl && Array.isArray(data.albums)) {\n                          albumsListEl.innerHTML = ''; \n                          data.albums.forEach(album => {\n                            const albumItem = document.createElement('li');\n                            albumItem.className = 'artist-albums-item';\n                \n                            const albumNameEl = document.createElement('h3');\n                            albumNameEl.className = 'album-name';\n                            albumNameEl.textContent = album.albumName || 'Альбом';\n                            albumItem.appendChild(albumNameEl);\n                \n                            const trackListEl = document.createElement('ul');\n                            trackListEl.className = 'album-track-list';\n                \n                            const trackHeader = document.createElement('li');\n                            trackHeader.className = 'album-track-item';\n                            const trackHeaderList = document.createElement('ul');\n                            trackHeaderList.className = 'track-info-list';\n                            ['Track', 'Time', 'Link'].forEach(headerText => {\n                              const li = document.createElement('li');\n                              li.className = 'track-info-item';\n                              li.textContent = headerText;\n                              trackHeaderList.appendChild(li);\n                            });\n                            trackHeader.appendChild(trackHeaderList);\n                            trackListEl.appendChild(trackHeader);\n                \n                            if (Array.isArray(album.tracks)) {\n                              album.tracks.forEach(track => {\n                                const trackItem = document.createElement('li');\n                                trackItem.className = 'album-track-item';\n                                const trackInfoList = document.createElement('ul');\n                                trackInfoList.className = 'track-info-list';\n                \n                                const trackNameItem = document.createElement('li');\n                                trackNameItem.className = 'track-info-item';\n                                trackNameItem.textContent = track.trackName || '';\n                                trackInfoList.appendChild(trackNameItem);\n                \n                                const trackTimeItem = document.createElement('li');\n                                trackTimeItem.className = 'track-info-item';\n                                trackTimeItem.textContent = track.time || '';\n                                trackInfoList.appendChild(trackTimeItem);\n                \n                                const trackLinkItem = document.createElement('li');\n                                trackLinkItem.className = 'track-info-item';\n                                if (track.youtubeLink) {\n                                  const youtubeLink = document.createElement('a');\n                                  youtubeLink.href = track.youtubeLink;\n                                  youtubeLink.target = '_blank';\n                                  youtubeLink.textContent = 'YouTube';\n                                  trackLinkItem.appendChild(youtubeLink);\n                                } else {\n                                  trackLinkItem.textContent = '-';\n                                }\n                                trackInfoList.appendChild(trackLinkItem);\n                \n                                trackItem.appendChild(trackInfoList);\n                                trackListEl.appendChild(trackItem);\n                              });\n                            }\n                \n                            albumItem.appendChild(trackListEl);\n                            albumsListEl.appendChild(albumItem);\n                          });\n                        }\n                      })\n                      .catch(error => {\n                        modalLoader.textContent = 'Помилка завантаження даних';\n                        console.error('Error fetching artist data:', error);\n                      });\n                  };\n                \n                  function closeModal() {\n                    modal.classList.remove('active');\n                    document.body.style.overflow = ''; \n                  }\n                \n                  closeModalButton.addEventListener('click', closeModal);\n                \n                  modal.addEventListener('click', event => {\n                    if (event.target === modal) {\n                      closeModal();\n                    }\n                  });\n                \n                  document.addEventListener('keydown', event => {\n                    if (event.key === 'Escape' && modal.classList.contains('active')) {\n                      closeModal();\n                    }\n                  });\n                });\n                             ","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nimport 'css-star-rating/css/star-rating.css';\n\nconst swiperWrapper = document.querySelector('.swiper-wrapper');\n\nasync function fetchFeedback() {\n  try {\n    const response = await fetch(\n      'https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1'\n    );\n    if (!response.ok) {\n      throw new Error(`Error HTTP: ${response.status}`);\n    }\n    const feedbacks = await response.json();\n\n    const list = Array.isArray(feedbacks) ? feedbacks : feedbacks.data;\n\n    list.forEach(({ rating, descr, name }) => {\n      const slide = createFeedbackSlide({ rating, text: descr, user: name });\n      swiperWrapper.appendChild(slide);\n    });\n\n    initSwiper();\n  } catch (error) {\n    console.error('Oops...Error:', error);\n  }\n}\n\nfunction createFeedbackSlide({ rating, text, user }) {\n  const slide = document.createElement('div');\n  slide.classList.add('swiper-slide');\n\n  const roundedRating = Math.round(rating);\n  slide.innerHTML = `\n    <div class=\"feedback-card\">\n      <div class=\"feedback-stars\">${renderStars(roundedRating)}</div>\n      <p class=\"feedback-text\">\"${text}\"</p>\n      <p class=\"feedback-user\">– ${user}</p>\n    </div>\n  `;\n  return slide;\n}\n\nfunction renderStars(count) {\n  const max = 5;\n  return '★'.repeat(count) + '☆'.repeat(max - count);\n}\n\nfunction initSwiper() {\n  new Swiper('.feedback-swiper', {\n    loop: false,\n    navigation: {\n      nextEl: '.feedback-button-next',\n      prevEl: '.feedback-button-prev',\n    },\n    pagination: {\n      el: '.feedback-pagination',\n      clickable: true,\n    },\n    grabCursor: true,\n  });\n}\n\nfetchFeedback();\n"],"names":["burger","modalMenu","closeBtn","backdrop","headerLogo","logoCloned","closeMenu","logoClone","e","link","modal","closeModalButton","modalLoader","artistId","response","data","titleEl","photoEl","infoItems","bioEl","genresListEl","genre","li","albumsListEl","album","albumItem","albumNameEl","trackListEl","trackHeader","trackHeaderList","headerText","track","trackItem","trackInfoList","trackNameItem","trackTimeItem","trackLinkItem","youtubeLink","error","closeModal","event","swiperWrapper","fetchFeedback","feedbacks","rating","descr","name","slide","createFeedbackSlide","initSwiper","text","user","roundedRating","renderStars","count","Swiper"],"mappings":"svBAAA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAa,SAAS,cAAc,mBAAmB,EAE7D,IAAIC,EAAa,GAEjB,MAAMC,EAAY,IAAM,CACtBH,EAAS,UAAU,OAAO,MAAM,EAChCF,EAAU,UAAU,OAAO,MAAM,EACjC,SAAS,KAAK,MAAM,SAAW,EAChC,EAEDD,EAAO,iBAAiB,QAAS,IAAM,CAKrC,GAJAG,EAAS,UAAU,IAAI,MAAM,EAC7BF,EAAU,UAAU,IAAI,MAAM,EAC9B,SAAS,KAAK,MAAM,SAAW,SAE3B,CAACI,GAAcD,EAAY,CAC7B,MAAMG,EAAYH,EAAW,UAAU,EAAI,EAC3CG,EAAU,UAAU,IAAI,aAAa,EACrCN,EAAU,QAAQM,CAAS,EAC3BF,EAAa,EACnB,CACA,CAAG,EAEDH,EAAS,iBAAiB,QAASI,CAAS,EAE5CH,EAAS,iBAAiB,QAASK,GAAK,CAClCA,EAAE,SAAWL,GAAUG,EAAW,CAC1C,CAAG,EAEmBL,EAAU,iBAAiB,GAAG,EACtC,QAAQQ,GAAQ,CAC1BA,EAAK,iBAAiB,QAASH,CAAS,CAC5C,CAAG,CACH,CAAC,ECtCD,SAAS,iBAAiB,mBAAoB,IAAM,CAClC,MAAMI,EAAQ,SAAS,eAAe,aAAa,EAC7CC,EAAmBD,EAAM,cAAc,cAAc,EACrDE,EAAcF,EAAM,cAAc,cAAc,EAMtD,OAAO,gBAAkB,SAAUG,EAAU,CAC3CH,EAAM,UAAU,IAAI,QAAQ,EAC5B,SAAS,KAAK,MAAM,SAAW,SAE/BE,EAAY,MAAM,QAAU,QAE5B,MAAM,YAAYC,CAAQ,EAAE,EACzB,KAAKC,GAAYA,EAAS,KAAM,CAAA,EAChC,KAAKC,GAAQ,CACZH,EAAY,MAAM,QAAU,OAE5B,MAAMI,EAAUN,EAAM,cAAc,cAAc,EAClDM,EAAQ,YAAcD,EAAK,MAAQ,eAEnC,MAAME,EAAUP,EAAM,cAAc,kBAAkB,EACtDO,EAAQ,IAAMF,EAAK,UAAY,GAC/BE,EAAQ,IAAMF,EAAK,MAAQ,eAE3B,MAAMG,EAAYR,EAAM,iBAAiB,gCAAgC,EACrEQ,EAAU,QAAU,IACtBA,EAAU,CAAC,EAAE,YAAcH,EAAK,aAAe,GAC/CG,EAAU,CAAC,EAAE,YAAcH,EAAK,KAAO,GACvCG,EAAU,CAAC,EAAE,YAAc,MAAM,QAAQH,EAAK,OAAO,EACjDA,EAAK,QAAQ,KAAK,IAAI,EACtBA,EAAK,SAAW,GACpBG,EAAU,CAAC,EAAE,YAAcH,EAAK,SAAW,IAG7C,MAAMI,EAAQT,EAAM,cAAc,0BAA0B,EACxDS,IACFA,EAAM,YAAcJ,EAAK,WAAa,IAGxC,MAAMK,EAAeV,EAAM,cAAc,cAAc,EACnDU,GAAgB,MAAM,QAAQL,EAAK,MAAM,IAC3CK,EAAa,UAAY,GACzBL,EAAK,OAAO,QAAQM,GAAS,CAC3B,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAY,cACfA,EAAG,YAAcD,EACjBD,EAAa,YAAYE,CAAE,CACvD,CAA2B,GAGH,MAAMC,EAAeb,EAAM,cAAc,qBAAqB,EAC1Da,GAAgB,MAAM,QAAQR,EAAK,MAAM,IAC3CQ,EAAa,UAAY,GACzBR,EAAK,OAAO,QAAQS,GAAS,CAC3B,MAAMC,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,qBAEtB,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAY,aACxBA,EAAY,YAAcF,EAAM,WAAa,SAC7CC,EAAU,YAAYC,CAAW,EAEjC,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAY,mBAExB,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAY,mBACxB,MAAMC,EAAkB,SAAS,cAAc,IAAI,EACnDA,EAAgB,UAAY,kBAC5B,CAAC,QAAS,OAAQ,MAAM,EAAE,QAAQC,GAAc,CAC9C,MAAMR,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAY,kBACfA,EAAG,YAAcQ,EACjBD,EAAgB,YAAYP,CAAE,CAC5D,CAA6B,EACDM,EAAY,YAAYC,CAAe,EACvCF,EAAY,YAAYC,CAAW,EAE/B,MAAM,QAAQJ,EAAM,MAAM,GAC5BA,EAAM,OAAO,QAAQO,GAAS,CAC5B,MAAMC,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAY,mBACtB,MAAMC,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,UAAY,kBAE1B,MAAMC,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,UAAY,kBAC1BA,EAAc,YAAcH,EAAM,WAAa,GAC/CE,EAAc,YAAYC,CAAa,EAEvC,MAAMC,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,UAAY,kBAC1BA,EAAc,YAAcJ,EAAM,MAAQ,GAC1CE,EAAc,YAAYE,CAAa,EAEvC,MAAMC,EAAgB,SAAS,cAAc,IAAI,EAEjD,GADAA,EAAc,UAAY,kBACtBL,EAAM,YAAa,CACrB,MAAMM,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,KAAON,EAAM,YACzBM,EAAY,OAAS,SACrBA,EAAY,YAAc,UAC1BD,EAAc,YAAYC,CAAW,CACvE,MACkCD,EAAc,YAAc,IAE9BH,EAAc,YAAYG,CAAa,EAEvCJ,EAAU,YAAYC,CAAa,EACnCN,EAAY,YAAYK,CAAS,CACjE,CAA+B,EAGHP,EAAU,YAAYE,CAAW,EACjCJ,EAAa,YAAYE,CAAS,CAC9D,CAA2B,EAEJ,CAAA,EACA,MAAMa,GAAS,CACd1B,EAAY,YAAc,6BAC1B,QAAQ,MAAM,8BAA+B0B,CAAK,CAC1E,CAAuB,CACJ,EAED,SAASC,GAAa,CACpB7B,EAAM,UAAU,OAAO,QAAQ,EAC/B,SAAS,KAAK,MAAM,SAAW,EACnD,CAEkBC,EAAiB,iBAAiB,QAAS4B,CAAU,EAErD7B,EAAM,iBAAiB,QAAS8B,GAAS,CACnCA,EAAM,SAAW9B,GACnB6B,EAAY,CAElC,CAAmB,EAED,SAAS,iBAAiB,UAAWC,GAAS,CACxCA,EAAM,MAAQ,UAAY9B,EAAM,UAAU,SAAS,QAAQ,GAC7D6B,EAAY,CAElC,CAAmB,CACnB,CAAiB,EC5IjB,MAAME,EAAgB,SAAS,cAAc,iBAAiB,EAE9D,eAAeC,GAAgB,CAC7B,GAAI,CACF,MAAM5B,EAAW,MAAM,MACrB,+DACD,EACD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,eAAeA,EAAS,MAAM,EAAE,EAElD,MAAM6B,EAAY,MAAM7B,EAAS,KAAM,GAE1B,MAAM,QAAQ6B,CAAS,EAAIA,EAAYA,EAAU,MAEzD,QAAQ,CAAC,CAAE,OAAAC,EAAQ,MAAAC,EAAO,KAAAC,CAAI,IAAO,CACxC,MAAMC,EAAQC,EAAoB,CAAE,OAAAJ,EAAQ,KAAMC,EAAO,KAAMC,EAAM,EACrEL,EAAc,YAAYM,CAAK,CACrC,CAAK,EAEDE,EAAY,CACb,OAAQX,EAAO,CACd,QAAQ,MAAM,gBAAiBA,CAAK,CACxC,CACA,CAEA,SAASU,EAAoB,CAAE,OAAAJ,EAAQ,KAAAM,EAAM,KAAAC,CAAI,EAAI,CACnD,MAAMJ,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAU,IAAI,cAAc,EAElC,MAAMK,EAAgB,KAAK,MAAMR,CAAM,EACvC,OAAAG,EAAM,UAAY;AAAA;AAAA,oCAEgBM,EAAYD,CAAa,CAAC;AAAA,kCAC5BF,CAAI;AAAA,mCACHC,CAAI;AAAA;AAAA,IAG9BJ,CACT,CAEA,SAASM,EAAYC,EAAO,CAE1B,MAAO,IAAI,OAAOA,CAAK,EAAI,IAAI,OAAO,EAAMA,CAAK,CACnD,CAEA,SAASL,GAAa,CACpB,IAAIM,EAAO,mBAAoB,CAC7B,KAAM,GACN,WAAY,CACV,OAAQ,wBACR,OAAQ,uBACT,EACD,WAAY,CACV,GAAI,uBACJ,UAAW,EACZ,EACD,WAAY,EAChB,CAAG,CACH,CAEAb,EAAe"}