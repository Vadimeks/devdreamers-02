{"version":3,"file":"index.js","sources":["../src/js/feedback.js"],"sourcesContent":["import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nimport 'css-star-rating/css/star-rating.css';\n\nconst swiperWrapper = document.querySelector('.swiper-wrapper');\n\nasync function fetchFeedback() {\n  try {\n    const response = await fetch(\n      'https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1'\n    );\n    if (!response.ok) {\n      throw new Error(`Error HTTP: ${response.status}`);\n    }\n    const feedbacks = await response.json();\n\n    const list = Array.isArray(feedbacks) ? feedbacks : feedbacks.data;\n\n    list.forEach(({ rating, descr, name }) => {\n      const slide = createFeedbackSlide({ rating, text: descr, user: name });\n      swiperWrapper.appendChild(slide);\n    });\n\n    initSwiper();\n  } catch (error) {\n    console.error('Oops...Error:', error);\n  }\n}\n\nfunction createFeedbackSlide({ rating, text, user }) {\n  const slide = document.createElement('div');\n  slide.classList.add('swiper-slide');\n\n  const roundedRating = Math.round(rating);\n  slide.innerHTML = `\n    <div class=\"feedback-card\">\n      <div class=\"feedback-stars\">${renderStars(roundedRating)}</div>\n      <p class=\"feedback-text\">\"${text}\"</p>\n      <p class=\"feedback-user\">– ${user}</p>\n    </div>\n  `;\n  return slide;\n}\n\nfunction renderStars(count) {\n  const max = 5;\n  return '★'.repeat(count) + '☆'.repeat(max - count);\n}\n\nfunction initSwiper() {\n  new Swiper('.feedback-swiper', {\n    loop: false,\n    navigation: {\n      nextEl: '.feedback-button-next',\n      prevEl: '.feedback-button-prev',\n    },\n    pagination: {\n      el: '.feedback-pagination',\n      clickable: true,\n    },\n    grabCursor: true,\n  });\n}\n\nfetchFeedback();\n"],"names":["swiperWrapper","fetchFeedback","response","feedbacks","rating","descr","name","slide","createFeedbackSlide","initSwiper","error","text","user","roundedRating","renderStars","count","Swiper"],"mappings":"svBAKA,MAAMA,EAAgB,SAAS,cAAc,iBAAiB,EAE9D,eAAeC,GAAgB,CAC7B,GAAI,CACF,MAAMC,EAAW,MAAM,MACrB,+DACD,EACD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,eAAeA,EAAS,MAAM,EAAE,EAElD,MAAMC,EAAY,MAAMD,EAAS,KAAM,GAE1B,MAAM,QAAQC,CAAS,EAAIA,EAAYA,EAAU,MAEzD,QAAQ,CAAC,CAAE,OAAAC,EAAQ,MAAAC,EAAO,KAAAC,CAAI,IAAO,CACxC,MAAMC,EAAQC,EAAoB,CAAE,OAAAJ,EAAQ,KAAMC,EAAO,KAAMC,EAAM,EACrEN,EAAc,YAAYO,CAAK,CACrC,CAAK,EAEDE,EAAY,CACb,OAAQC,EAAO,CACd,QAAQ,MAAM,gBAAiBA,CAAK,CACxC,CACA,CAEA,SAASF,EAAoB,CAAE,OAAAJ,EAAQ,KAAAO,EAAM,KAAAC,CAAI,EAAI,CACnD,MAAML,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAU,IAAI,cAAc,EAElC,MAAMM,EAAgB,KAAK,MAAMT,CAAM,EACvC,OAAAG,EAAM,UAAY;AAAA;AAAA,oCAEgBO,EAAYD,CAAa,CAAC;AAAA,kCAC5BF,CAAI;AAAA,mCACHC,CAAI;AAAA;AAAA,IAG9BL,CACT,CAEA,SAASO,EAAYC,EAAO,CAE1B,MAAO,IAAI,OAAOA,CAAK,EAAI,IAAI,OAAO,EAAMA,CAAK,CACnD,CAEA,SAASN,GAAa,CACpB,IAAIO,EAAO,mBAAoB,CAC7B,KAAM,GACN,WAAY,CACV,OAAQ,wBACR,OAAQ,uBACT,EACD,WAAY,CACV,GAAI,uBACJ,UAAW,EACZ,EACD,WAAY,EAChB,CAAG,CACH,CAEAf,EAAe"}